#include <stdio.h>
#include <conio.h>
#include <math.h>


void main()
{
	int numberOfDigits=1;
	double numberToDivide;
	double m = 0, n = 1;

	printf("Enter number to maximize: "); scanf_s("%lf", &numberToDivide);

	while (numberToDivide >= 10) 
	{
		numberToDivide = numberToDivide / 10.;
		numberOfDigits++;
	
	
	}



	float *Array = new float[numberOfDigits];
	for (int numberOfCell = 0; numberOfCell < numberOfDigits; numberOfCell++)
	{
	
		printf("m = %f\n", m);
		printf("Number to divide = %f\n", numberToDivide);

		Array[numberOfCell] = floor(numberToDivide - m);  /*К примеру "123456", На последнем этапе выдаёт "5", вместо "6". 123456.000000 - 123450.000000 = 5? Почему так?*/


		m = floor (numberToDivide)*10;
		numberToDivide=numberToDivide*10;





	
	}



	for (int numberOfCell = 0; numberOfCell < numberOfDigits; numberOfCell++) printf("Array[%d]=%.0f\n", numberOfCell, Array[numberOfCell]);



	int numberOfDigitMoves;
	printf("Enter number of digit moves: ");
	scanf_s("%d", &numberOfDigitMoves);

	for (int leftCell = 0, rightCell = 1, valueOfTheLeftCell = 0, valueOfTheRightCell = 0, numberOfDoneDigitMoves = 0; numberOfDoneDigitMoves < numberOfDigitMoves; leftCell++, rightCell++)
	{




		if (Array[leftCell] < Array[rightCell])
		{

			valueOfTheLeftCell = Array[rightCell];
			valueOfTheRightCell = Array[leftCell];
			Array[leftCell] = valueOfTheLeftCell;
			Array[rightCell] = valueOfTheRightCell;
			numberOfDoneDigitMoves=numberOfDoneDigitMoves+1;
			
		}

		/*Без этой части всё (но не до конца, как задумывалось) работает*/
		if (rightCell = numberOfDigits - 1)
		{
			printf("\n\n\"if\" activated\n");
			printf("Number of done digit moves = %d\n", numberOfDoneDigitMoves);


			for (int numberOfCell = 0; numberOfCell < numberOfDigits; numberOfCell++) printf("Array[%d]=%.0f\n", numberOfCell, Array[numberOfCell]);

			printf("Number of digits = %d\n", numberOfDigits);
			printf("Right Cell = %d\n", rightCell);
			leftCell = -1;
			rightCell = 0;
			printf("Right Cell = %d\n", rightCell);
		}
		/*________________________________________________________________________*/



	}


	for (int numberOfCell = 0; numberOfCell < numberOfDigits; numberOfCell++) printf("Array[%d]=%.0f\n", numberOfCell, Array[numberOfCell]);





	_getch();
	
	delete[] Array;
}
