#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>
#include <conio.h>
#include <string.h>



void main()
{
	char numberToDivideString[200];
	printf("Enter number to divide: ");
	scanf("%s", &numberToDivideString);

	int numberOfDigits = strlen(numberToDivideString);
	printf("Number of digits = %d\n\n", numberOfDigits);

	char maxdigit ='0';
	for (int i = 0; i < numberOfDigits; i++) 
	{
		if (maxdigit < numberToDivideString[i]) 
			maxdigit = numberToDivideString[i];
	
	}

	printf("max digit = %c", maxdigit);


	int swaps;
	printf("\nEnter number of swaps: ");
	scanf_s("%d", &swaps);


	int numberOfShiftsToTheRight = swaps;
	int numberOfTheFirstCell = 0, numberOfTheLastCell = numberOfDigits - 1;
	int numberOfShiftsToTheRightToDo=0;

	while (numberOfShiftsToTheRight >0)
	{
		if (swaps <= 0) break;

		if (numberOfShiftsToTheRight > numberOfTheLastCell)
		{
			numberOfShiftsToTheRightToDo = numberOfShiftsToTheRight - numberOfTheLastCell;
			numberOfShiftsToTheRight = numberOfTheLastCell;
		}

		if (numberToDivideString[numberOfTheFirstCell] == maxdigit)
			numberOfTheFirstCell++;


		int rightCell = numberOfShiftsToTheRight + numberOfTheFirstCell, leftCell = rightCell - 1;


		while (leftCell >= numberOfTheFirstCell)
		{
			if (swaps <= 0) break;

			if (numberToDivideString[leftCell] < numberToDivideString[rightCell])
			{

				char leftCellValue = numberToDivideString[rightCell];
				char rightCellValue = numberToDivideString[leftCell];
				numberToDivideString[leftCell] = leftCellValue;
				numberToDivideString[rightCell] = rightCellValue;

				swaps--;
			}

			leftCell--; rightCell--;
		}

		



		if (numberOfShiftsToTheRightToDo != 0)
		{
			numberOfShiftsToTheRight = numberOfShiftsToTheRightToDo;
			numberOfShiftsToTheRightToDo = 0;
		}


		numberOfTheFirstCell++;

	}

		
	



	for (int i = 0; i < numberOfDigits; i++) printf("numberToDivideString[%d] = %c\n", i, numberToDivideString[i]);


	_getch();
}
